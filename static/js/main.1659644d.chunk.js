(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{49:function(e,a,n){e.exports=n(91)},54:function(e,a,n){},55:function(e,a,n){},91:function(e,a,n){"use strict";n.r(a);var t=n(0),l=n.n(t),r=n(3),c=n.n(r),i=(n(54),n(21)),o=n(13),m=n(45),s=n(12),u=(n(55),n(56)("wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl",{path:"/flights"})),E=n(124),d=n(4),p=n.n(d),v=n(120),g=n(121),f=n(122),b=n(123),h=n(125),O=(n(85),p.a.icon({iconUrl:"/images/marker-icon.png",iconSize:[10,15]})),S=p.a.icon({iconUrl:"/images/asterisco.png",iconSize:[10,10]}),j={color:"blue"};var k=function(){var e=Object(t.useState)([{code:"Sin Informaci\xf3n",airline:"",origin:[-100,-100],destination:[-100,-100],plane:"",seats:1,passengers:[{name:"",age:1}]}]),a=Object(s.a)(e,2),n=a[0],r=a[1],c=Object(t.useState)({name:"",message:""}),d=Object(s.a)(c,2),p=d[0],k=d[1],y=Object(t.useState)([]),C=Object(s.a)(y,2),N=C[0],w=C[1],I=Object(t.useState)({code:"",position:[-100,-100]}),T=Object(s.a)(I,2),F=T[0],z=T[1];Object(t.useEffect)(function(){u.on("CHAT",function(e){var a=e.name,n=e.message,t=e.date;w([].concat(Object(m.a)(N),[{name:a,message:n,date:t}]))}),u.on("FLIGHTS",function(e){r(e)}),u.on("POSITION",function(e){z(e)})});var D=function(e){k(Object(o.a)({},p,Object(i.a)({},e.target.name,e.target.value)))};return l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"header"},l.a.createElement("h1",null,"Bienvenido a Vuelos"),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),u.emit("FLIGHTS")}},l.a.createElement("button",null,"Solicitar informaci\xf3n de vuelos"))),l.a.createElement("div",null,l.a.createElement("div",{className:"column-mapa"},l.a.createElement("h2",null,"Mapa vuelos"),l.a.createElement(b.a,{center:[-5,10],zoom:2,scrollWheelZoom:!1},l.a.createElement(h.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),n.map(function(e,a){var n=e.origin;return l.a.createElement("div",{key:a},l.a.createElement(v.a,{position:[n[0],n[1]],icon:O}))}),n.map(function(e,a){var n=e.destination;return l.a.createElement("div",{key:a},l.a.createElement(v.a,{position:[n[0],n[1]],icon:O}))}),n.map(function(e,a){var n=e.origin,t=e.destination;return l.a.createElement("div",{key:a},l.a.createElement(f.a,{pathOptions:j,positions:[[n[0],n[1]],[t[0],t[1]]]}))}),l.a.createElement(v.a,{position:[F.position[0],F.position[1]],icon:S,key:F.code},l.a.createElement(g.a,null,"C\xf3digo: ",F.code))))),l.a.createElement("div",{className:"column-chat"},l.a.createElement("h2",null,"Centro de control"),l.a.createElement("div",{className:"container"},N.map(function(e,a){var n=e.name,t=e.message,r=e.date;return l.a.createElement("div",{key:a},l.a.createElement("b",null,n,": "),t," - ",l.a.createElement("font",{size:"2",color:"teal"},l.a.createElement("em",null,new Date(r).toLocaleString())))})),l.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a=p.name,n=p.message;u.emit("CHAT",{name:a,message:n}),k({message:"",name:""})}},l.a.createElement("div",{className:"name_field"},l.a.createElement(E.a,{name:"name",onChange:function(e){return D(e)},value:p.name,label:"name",variant:"outlined"})),l.a.createElement("br",null),l.a.createElement("div",{className:"message_field"},l.a.createElement(E.a,{name:"message",onChange:function(e){return D(e)},value:p.message,label:"message",id:"outlined-multiline-static",variant:"outlined"})),l.a.createElement("button",null,"Enviar"))),l.a.createElement("div",{className:"column-info"},l.a.createElement("h2",null,"Informaci\xf3n de vuelos"),n.map(function(e,a){var n=e.code,t=e.airline,r=e.origin,c=e.destination,i=e.plane,o=e.seats,m=e.passengers;return l.a.createElement("div",{key:a},l.a.createElement("br",null),l.a.createElement("div",{className:"card"},l.a.createElement("b",null,n,"- ",t),l.a.createElement("br",null),l.a.createElement("b",null,"Origen:")," ",r.map(function(e,a){return l.a.createElement("div",{key:a},l.a.createElement("li",null,e))}),l.a.createElement("b",null,"Destino:")," ",c.map(function(e,a){return l.a.createElement("div",{key:a},l.a.createElement("li",null,e))}),l.a.createElement("b",null,"Avi\xf3n:")," ",i,l.a.createElement("br",null),l.a.createElement("b",null,"Cantidad asientos:")," ",o,l.a.createElement("br",null),l.a.createElement("b",null,"Pasajeros:")," ",m.map(function(e,a){var n=e.name,t=e.age;return l.a.createElement("div",{key:a},l.a.createElement("li",null,n," - ",t))})))})))},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,126)).then(function(a){var n=a.getCLS,t=a.getFID,l=a.getFCP,r=a.getLCP,c=a.getTTFB;n(e),t(e),l(e),r(e),c(e)})};c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(k,null)),document.getElementById("root")),y()}},[[49,1,2]]]);
//# sourceMappingURL=main.1659644d.chunk.js.map